"use strict";(self.webpackChunklogistics=self.webpackChunklogistics||[]).push([[519],{29396:function(n,e,t){t.d(e,{z:function(){return s}});var r=t(74165),o=t(1413),a=t(15861),i=t(74569),u=t.n(i),c=t(35625),s="https://safeeds.us/api",l=u().create({baseURL:s});l.interceptors.request.use(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.headers.Authorization="Bearer ".concat((0,c.ej)()),e.headers=(0,o.Z)((0,o.Z)({},e.headers),{},{"Content-Type":"application/json"}),n.abrupt("return",e);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),(function(n){return Promise.reject(n.response)})),l.interceptors.response.use((function(n){return n}),(function(n){return Promise.reject(n.response)})),e.Z=l},46930:function(n,e,t){t.d(e,{Z:function(){return S}});var r,o,a,i,u=t(1413),c=t(29439),s=t(44925),l=t(72791),d=t(23695),p=t(10215),f=t(77106),v=t(79286),h=t(30168),Z=t(16444),m=Z.ZP.div(r||(r=(0,h.Z)(["\n  .avatar-uploader > .ant-upload {\n    width: 150px;\n    height: 150px;\n    border-radius: 50%;\n    overflow: hidden;\n  }\n"]))),x=Z.ZP.div(o||(o=(0,h.Z)(["\n  background-color: ",";\n  z-index: 100;\n"])),(function(n){return n.forEdit?"rgba(0,0,0,0.9)":"transparent"})),g=Z.ZP.div(a||(a=(0,h.Z)(["\n  background-color: white;\n"]))),b=Z.ZP.img(i||(i=(0,h.Z)(["\n  width: 50%;\n  z-index: 10;\n  height: 100%;\n  object-position: center !important;\n  object-fit: cover !important;\n"]))),y=t(51570),w=t(80184),j=["onSetImage","url","forEdit","imgLoading","isCreate"];function k(n){var e="image/jpeg"===n.type||"image/png"===n.type;return e||d.ZP.error("You can only upload images file!"),e}var S=function(n){var e=n.onSetImage,t=n.url,r=n.forEdit,o=n.imgLoading,a=n.isCreate,i=void 0!==a&&a,d=(0,s.Z)(n,j),h=(0,l.useState)(!1),Z=(0,c.Z)(h,2),S=Z[0],E=Z[1],C=(0,l.useState)(t),P=(0,c.Z)(C,2),N=P[0],F=P[1],M=(0,y.kR)({onSuccess:function(){console.log("success")},onError:function(n){console.log("err",n)}}),T=(0,w.jsxs)(g,{children:[(i?(!i||(null===M||void 0===M?void 0:M.isLoading))&&o:(null===M||void 0===M?void 0:M.isLoading)||o)?(0,w.jsx)(f.Z,{}):(0,w.jsx)(v.Z,{}),(0,w.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,l.useEffect)((function(){var n,t,r;null!==M&&void 0!==M&&M.data&&e(null===M||void 0===M||null===(n=M.data)||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.result)||void 0===r?void 0:r.url)}),[M]),(0,w.jsx)(m,(0,u.Z)((0,u.Z)({},d),{},{children:(0,w.jsx)(p.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:k,onChange:function(n){var e=new FormData;"uploading"!==n.file.status&&"done"===n.file.status&&(!function(n,e){var t=new FileReader;t.addEventListener("load",(function(){return e(t.result)})),t.readAsDataURL(n)}(n.file.originFileObj,(function(n){F(n),E(!0)})),e.append("file",n.file.originFileObj),M.mutate(e))},customRequest:function(n){n.file;var e=n.onSuccess;setTimeout((function(){e("ok")}),0)},disabled:!r,accept:"image/*",children:(0,w.jsx)(x,{forEdit:r,children:!N&&!t||o||null!==M&&void 0!==M&&M.isLoading?T:(0,w.jsx)(b,{src:S?N:t,alt:"avatar",height:"100px"})})})}))}},64258:function(n,e,t){t.d(e,{Z:function(){return f}});var r,o,a,i=t(3515),u=t(30168),c=t(16444),s=c.ZP.div(r||(r=(0,u.Z)([""]))),l=c.ZP.div(o||(o=(0,u.Z)(["\n  margin: 0 5px;\n  cursor: pointer;\n  transition: all 0.4s ease;\n  display: inline-block;\n\n  & > span {\n    font-size: 20px;\n  }\n\n  &:hover {\n    opacity: 0.6;\n    transform: scale(1.05);\n  }\n"]))),d=c.ZP.span(a||(a=(0,u.Z)(["\n   position: relative;\n"]))),p=t(80184),f=function(n){var e=n.tabs,t=n.index,r=n.tabRightContent,o=n.setIndex,a={right:null===r||void 0===r?void 0:r.map((function(n,e){return(0,p.jsx)(d,{children:(0,p.jsx)(l,{onClick:function(){var e;return null===n||void 0===n||null===(e=n.onClick)||void 0===e?void 0:e.call(n)},children:n.icon},e)},e)}))};return(0,p.jsx)(s,{children:(0,p.jsx)(i.Z,{animated:!0,activeKey:t.toString(),onChange:function(n){return o(parseInt(n))},tabBarExtraContent:a,children:e.map((function(n,e){return(0,p.jsx)(i.Z.TabPane,{tab:n.title,children:n.content},e)}))})})}},51570:function(n,e,t){t.d(e,{ug:function(){return h},lN:function(){return v},QZ:function(){return x},hC:function(){return N},Gx:function(){return m},yG:function(){return P},rg:function(){return E},FL:function(){return S},lB:function(){return M},P0:function(){return Z},Oe:function(){return C},kR:function(){return g}});t(17834);var r=t(74165),o=t(15861),a=t(91933),i=t(57689),u=t(29396),c=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.get("/article");case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.get("/article/".concat(e));case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.put("/article/".concat(e),t);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.delete("/article/".concat(e));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.post("/article",e);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.post("/image-upload",e);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),v=function(){return(0,a.useQuery)(["rates"],(function(){return c()}))},h=function(){var n=(0,i.UO)().id;return(0,a.useQuery)(["rate",n],(function(){return s(n)}),{enabled:!!n})},Z=function(n){var e=n.onSuccess,t=n.onError,r=(0,i.UO)().id;return(0,a.useMutation)((function(n){return l(r,n)}),{onSuccess:e,onError:t})},m=function(n){var e=n.onSuccess,t=n.onError,r=(0,i.UO)().id;return(0,a.useMutation)((function(){return d(r)}),{onSuccess:e,onError:t})},x=function(n){var e=n.onSuccess,t=n.onError;return(0,a.useMutation)((function(n){return p(n)}),{onSuccess:e,onError:t})},g=function(n){var e=n.onSuccess,t=n.onError;return(0,a.useMutation)((function(n){return f(n)}),{onSuccess:e,onError:t})},b=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.get("/satisfied");case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),y=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.get("/satisfied/".concat(e));case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),w=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.put("/satisfied/".concat(e),t);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e,t){return n.apply(this,arguments)}}(),j=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.delete("/satisfied/".concat(e));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),k=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.post("/satisfied",e);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),S=function(){return(0,a.useQuery)(["satisfieds"],(function(){return b()}))},E=function(){var n=(0,i.UO)().id;return(0,a.useQuery)(["satisfied",n],(function(){return y(n)}),{enabled:!!n})},C=function(n){var e=n.onSuccess,t=n.onError,r=(0,i.UO)().id;return(0,a.useMutation)((function(n){return w(r,n)}),{onSuccess:e,onError:t})},P=function(n){var e=n.onSuccess,t=n.onError,r=(0,i.UO)().id;return(0,a.useMutation)((function(){return j(r)}),{onSuccess:e,onError:t})},N=function(n){var e=n.onSuccess,t=n.onError;return(0,a.useMutation)((function(n){return k(n)}),{onSuccess:e,onError:t})},F=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.post("/email/send",e);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),M=function(n){var e=n.onSuccess,t=n.onError;return(0,a.useMutation)((function(n){return F(n)}),{onSuccess:e,onError:t})}},17834:function(n,e,t){t.d(e,{z:function(){return c}});var r=t(74165),o=t(15861),a=t(91933),i=t(29396),u=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.post("/auth/login",null===e||void 0===e?void 0:e.data);case 3:t=n.sent,null===e||void 0===e||e.dispatch({type:"user/login",payload:null===t||void 0===t?void 0:t.data}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),n.t0.response;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),c=function(n){var e=n.onSuccess,t=n.onError;return(0,a.useMutation)((function(n){return u(n)}),{onSuccess:e,onError:t})}},35519:function(n,e,t){t.r(e);var r=t(29439),o=t(72791),a=t(51570),i=t(11095),u=t(70478),c=t(37083),s=t(66106),l=t(30914),d=t(68678),p=t(87309),f=t(51802),v=t(72010),h=t(199),Z=t.n(h),m=t(1701),x=t.n(m),g=t(46930),b=t(29396),y=t(9085),w=t(35796),j=t(82622),k=t(64258),S=t(57689),E=t(80184);e.default=function(n){var e,t=(0,o.useState)(),h=(0,r.Z)(t,2),m=h[0],C=h[1],P=(0,a.ug)(),N=P.data,F=P.isLoading,M=(0,o.useState)(""),T=(0,r.Z)(M,2),L=T[0],I=T[1],R=(0,o.useState)(0),U=(0,r.Z)(R,2),A=U[0],O=U[1],z=i.Z.useForm(),B=(0,r.Z)(z,1)[0],q=(0,S.s0)(),Q=(0,a.P0)({onSuccess:function(){y.Am.success("Successfully updated")},onError:function(n){console.log(n)}}),G=(0,a.Gx)({onSuccess:function(){y.Am.success("Successfully deleted"),q("/articles")},onError:function(n){var e;y.Am.error(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.error)}}),D=x()(null!==(e=null===m||void 0===m?void 0:m.body)&&void 0!==e?e:""),V=D.contentBlocks,W=D.entityMap,K=v.ContentState.createFromBlockArray(V,W),Y=(0,o.useState)((function(){return v.EditorState.createWithContent(K)})),H=(0,r.Z)(Y,2),J=H[0],X=H[1];return(0,o.useEffect)((function(){var n,e,t,r,o,a,i;B.setFieldsValue(null===N||void 0===N||null===(n=N.data)||void 0===n?void 0:n.data),C(null===N||void 0===N||null===(e=N.data)||void 0===e?void 0:e.data),I(null===N||void 0===N||null===(t=N.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.image);var u=x()(null!==(o=null===N||void 0===N||null===(a=N.data)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.body)&&void 0!==o?o:""),c=u.contentBlocks,s=u.entityMap,l=v.ContentState.createFromBlockArray(c,s);X(v.EditorState.createWithContent(l))}),[N,B]),(0,E.jsx)(k.Z,{index:A,setIndex:O,tabs:[{title:"Article",content:(0,E.jsx)(c.Z,{spinning:F,children:(0,E.jsx)("div",{children:(0,E.jsxs)(i.Z,{name:"basic",initialValues:{remember:!0},onFinish:function(n){Q.mutate({body:Z()((0,v.convertToRaw)(J.getCurrentContent())).toString(),title:null===n||void 0===n?void 0:n.title,readTime:Number(null===n||void 0===n?void 0:n.readTime),name:null===n||void 0===n?void 0:n.name,image:L})},onFinishFailed:function(n){console.log("Failed:",n)},autoComplete:"off",layout:"vertical",form:B,children:[(0,E.jsxs)(s.Z,{gutter:[20,20],className:"alce",children:[(0,E.jsx)(l.Z,{span:4,children:(0,E.jsx)(g.Z,{onSetImage:function(n){return I(n)},url:"".concat(b.z,"/").concat(L),forEdit:!0,imgLoading:!L})}),(0,E.jsx)(l.Z,{span:9,children:(0,E.jsx)(i.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input your title!"}],children:(0,E.jsx)(d.Z,{})})}),(0,E.jsx)(l.Z,{span:9,children:(0,E.jsx)("div",{children:(0,E.jsx)(i.Z.Item,{label:"Read Time",name:"readTime",rules:[{required:!0,message:"Please input your Read Time!"}],children:(0,E.jsx)(d.Z,{type:"number"})})})}),(0,E.jsx)(l.Z,{span:9,children:(0,E.jsx)(i.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your Name!"}],children:(0,E.jsx)(d.Z,{})})})]}),(0,E.jsx)(s.Z,{children:(0,E.jsx)(i.Z.Item,{label:"Body",name:"body",rules:[{required:!0,message:"Please input your body!"}],children:(0,E.jsx)(f.Editor,{editorState:J,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(n){X(n)},toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],colorPicker:{popupClassName:"colorModal"},link:{popupClassName:"colorModal"},image:{popupClassName:"colorModal"}}})})}),(0,E.jsx)(i.Z.Item,{children:(0,E.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:null===Q||void 0===Q?void 0:Q.isLoading,children:"Submit"})})]})})})}],tabRightContent:[{icon:(0,E.jsx)(j.Z,{}),onClick:function(){u.Z.confirm({centered:!0,title:"Are you sure to delete?",icon:(0,E.jsx)(w.Z,{}),onOk:function(){G.mutate()}})}}]})}}}]);
//# sourceMappingURL=519.93752fc7.chunk.js.map