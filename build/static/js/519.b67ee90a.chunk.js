"use strict";(self.webpackChunklogistics=self.webpackChunklogistics||[]).push([[519],{64258:function(e,n,t){t.d(n,{Z:function(){return v}});var i,o,a,l=t(3515),r=t(30168),s=t(16444),d=s.ZP.div(i||(i=(0,r.Z)([""]))),u=s.ZP.div(o||(o=(0,r.Z)(["\n  margin: 0 5px;\n  cursor: pointer;\n  transition: all 0.4s ease;\n  display: inline-block;\n\n  & > span {\n    font-size: 20px;\n  }\n\n  &:hover {\n    opacity: 0.6;\n    transform: scale(1.05);\n  }\n"]))),c=s.ZP.span(a||(a=(0,r.Z)(["\n   position: relative;\n"]))),m=t(80184),v=function(e){var n=e.tabs,t=e.index,i=e.tabRightContent,o=e.setIndex,a={right:null===i||void 0===i?void 0:i.map((function(e,n){return(0,m.jsx)(c,{children:(0,m.jsx)(u,{onClick:function(){var n;return null===e||void 0===e||null===(n=e.onClick)||void 0===n?void 0:n.call(e)},children:e.icon},n)},n)}))};return(0,m.jsx)(d,{children:(0,m.jsx)(l.Z,{animated:!0,activeKey:t.toString(),onChange:function(e){return o(parseInt(e))},tabBarExtraContent:a,children:n.map((function(e,n){return(0,m.jsx)(l.Z.TabPane,{tab:e.title,children:e.content},n)}))})})}},35519:function(e,n,t){t.r(n);var i=t(29439),o=t(72791),a=t(59704),l=t(11095),r=t(70478),s=t(37083),d=t(66106),u=t(30914),c=t(52425),m=t(87309),v=t(51802),p=t(72010),x=t(199),f=t.n(x),Z=t(1701),h=t.n(Z),g=t(46930),b=t(29396),j=t(9085),y=t(35796),C=t(82622),S=t(64258),k=t(57689),N=t(80184);function P(e){var n,t=(0,o.useState)(),x=(0,i.Z)(t,2),Z=x[0],P=x[1],T=(0,a.ug)(),E=T.data,F=T.isLoading,I=(0,o.useState)(""),A=(0,i.Z)(I,2),B=A[0],w=A[1],M=(0,o.useState)(0),R=(0,i.Z)(M,2),q=R[0],z=R[1],L=l.Z.useForm(),V=(0,i.Z)(L,1)[0],W=(0,k.s0)(),G=(0,a.P0)({onSuccess:function(){j.Am.success("Successfully updated")},onError:function(e){console.log(e)}}),K=(0,a.Gx)({onSuccess:function(){j.Am.success("Successfully deleted"),W("/articles")},onError:function(e){var n;j.Am.error(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)}}),O=h()(null!==(n=null===Z||void 0===Z?void 0:Z.body)&&void 0!==n?n:""),D=O.contentBlocks,H=O.entityMap,J=p.ContentState.createFromBlockArray(D,H),Q=(0,o.useState)((function(){return p.EditorState.createWithContent(J)})),U=(0,i.Z)(Q,2),X=U[0],Y=U[1];return(0,o.useEffect)((function(){var e,n,t,i,o,a,l;V.setFieldsValue(null===E||void 0===E||null===(e=E.data)||void 0===e?void 0:e.data),P(null===E||void 0===E||null===(n=E.data)||void 0===n?void 0:n.data),w(null===E||void 0===E||null===(t=E.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.image);var r=h()(null!==(o=null===E||void 0===E||null===(a=E.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.body)&&void 0!==o?o:""),s=r.contentBlocks,d=r.entityMap,u=p.ContentState.createFromBlockArray(s,d);Y(p.EditorState.createWithContent(u))}),[E,V]),(0,N.jsx)(S.Z,{index:q,setIndex:z,tabs:[{title:"Article",content:(0,N.jsx)(s.Z,{spinning:F,children:(0,N.jsx)("div",{children:(0,N.jsxs)(l.Z,{name:"basic",initialValues:{remember:!0},onFinish:function(e){G.mutate({body:f()((0,p.convertToRaw)(X.getCurrentContent())).toString(),title:null===e||void 0===e?void 0:e.title,readTime:Number(null===e||void 0===e?void 0:e.readTime),name:null===e||void 0===e?void 0:e.name,image:B})},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",layout:"vertical",form:V,children:[(0,N.jsxs)(d.Z,{gutter:[20,20],className:"alce",children:[(0,N.jsx)(u.Z,{span:4,children:(0,N.jsx)(g.Z,{onSetImage:function(e){return w(e)},url:"".concat(b.z,"/").concat(B),forEdit:!0,imgLoading:!B})}),(0,N.jsx)(u.Z,{span:9,children:(0,N.jsx)(l.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input your title!"}],children:(0,N.jsx)(c.Z,{})})}),(0,N.jsx)(u.Z,{span:9,children:(0,N.jsx)("div",{children:(0,N.jsx)(l.Z.Item,{label:"Read Time",name:"readTime",rules:[{required:!0,message:"Please input your Read Time!"}],children:(0,N.jsx)(c.Z,{type:"number"})})})}),(0,N.jsx)(u.Z,{span:9,children:(0,N.jsx)(l.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your Name!"}],children:(0,N.jsx)(c.Z,{})})})]}),(0,N.jsx)(d.Z,{children:(0,N.jsx)(l.Z.Item,{label:"Body",name:"body",rules:[{required:!0,message:"Please input your body!"}],children:(0,N.jsx)(v.Editor,{editorState:X,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(e){Y(e)},toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],colorPicker:{popupClassName:"colorModal"},link:{popupClassName:"colorModal"},image:{popupClassName:"colorModal"}}})})}),(0,N.jsx)(l.Z.Item,{children:(0,N.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:null===G||void 0===G?void 0:G.isLoading,children:"Submit"})})]})})})}],tabRightContent:[{icon:(0,N.jsx)(C.Z,{}),onClick:function(){r.Z.confirm({centered:!0,title:"Are you sure to delete?",icon:(0,N.jsx)(y.Z,{}),onOk:function(){K.mutate()}})}}]})}n.default=o.memo(P)}}]);
//# sourceMappingURL=519.b67ee90a.chunk.js.map