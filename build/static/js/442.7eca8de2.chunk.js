"use strict";(self.webpackChunklogistics=self.webpackChunklogistics||[]).push([[442],{29396:function(n,r,e){e.d(r,{z:function(){return s}});var t=e(74165),o=e(1413),u=e(15861),a=e(74569),c=e.n(a),i=e(35625),s="https://safeeds.us/api",l=c().create({baseURL:s});l.interceptors.request.use(function(){var n=(0,u.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.headers.Authorization="Bearer ".concat((0,i.ej)()),r.headers=(0,o.Z)((0,o.Z)({},r.headers),{},{"Content-Type":"application/json"}),n.abrupt("return",r);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),(function(n){return Promise.reject(n.response)})),l.interceptors.response.use((function(n){return n}),(function(n){return Promise.reject(n.response)})),r.Z=l},46930:function(n,r,e){e.d(r,{Z:function(){return j}});var t,o,u,a,c=e(1413),i=e(29439),s=e(44925),l=e(72791),p=e(23695),f=e(10215),d=e(77106),v=e(79286),h=e(30168),m=e(16444),Z=m.ZP.div(t||(t=(0,h.Z)(["\n  .avatar-uploader > .ant-upload {\n    width: 150px;\n    height: 150px;\n    border-radius: 50%;\n    overflow: hidden;\n  }\n"]))),x=m.ZP.div(o||(o=(0,h.Z)(["\n  background-color: ",";\n  z-index: 100;\n"])),(function(n){return n.forEdit?"rgba(0,0,0,0.9)":"transparent"})),g=m.ZP.div(u||(u=(0,h.Z)(["\n  background-color: white;\n"]))),w=m.ZP.img(a||(a=(0,h.Z)(["\n  width: 50%;\n  z-index: 10;\n  height: 100%;\n  object-position: center !important;\n  object-fit: cover !important;\n"]))),b=e(51570),y=e(80184),k=["onSetImage","url","forEdit","imgLoading","isCreate"];function S(n){var r="image/jpeg"===n.type||"image/png"===n.type;return r||p.ZP.error("You can only upload images file!"),r}var j=function(n){var r=n.onSetImage,e=n.url,t=n.forEdit,o=n.imgLoading,u=n.isCreate,a=void 0!==u&&u,p=(0,s.Z)(n,k),h=(0,l.useState)(!1),m=(0,i.Z)(h,2),j=m[0],E=m[1],C=(0,l.useState)(e),N=(0,i.Z)(C,2),M=N[0],P=N[1],L=(0,b.kR)({onSuccess:function(){console.log("success")},onError:function(n){console.log("err",n)}}),F=(0,y.jsxs)(g,{children:[(a?(!a||(null===L||void 0===L?void 0:L.isLoading))&&o:(null===L||void 0===L?void 0:L.isLoading)||o)?(0,y.jsx)(d.Z,{}):(0,y.jsx)(v.Z,{}),(0,y.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,l.useEffect)((function(){var n,e,t;null!==L&&void 0!==L&&L.data&&r(null===L||void 0===L||null===(n=L.data)||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.url)}),[L]),(0,y.jsx)(Z,(0,c.Z)((0,c.Z)({},p),{},{children:(0,y.jsx)(f.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:S,onChange:function(n){var r=new FormData;"uploading"!==n.file.status&&"done"===n.file.status&&(!function(n,r){var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)})),e.readAsDataURL(n)}(n.file.originFileObj,(function(n){P(n),E(!0)})),r.append("file",n.file.originFileObj),L.mutate(r))},customRequest:function(n){n.file;var r=n.onSuccess;setTimeout((function(){r("ok")}),0)},disabled:!t,accept:"image/*",children:(0,y.jsx)(x,{forEdit:t,children:!M&&!e||o||null!==L&&void 0!==L&&L.isLoading?F:(0,y.jsx)(w,{src:j?M:e,alt:"avatar",height:"100px"})})})}))}},51570:function(n,r,e){e.d(r,{ug:function(){return h},lN:function(){return v},QZ:function(){return x},hC:function(){return M},Gx:function(){return Z},yG:function(){return N},rg:function(){return E},FL:function(){return j},lB:function(){return L},P0:function(){return m},Oe:function(){return C},kR:function(){return g}});e(17834);var t=e(74165),o=e(15861),u=e(91933),a=e(57689),c=e(29396),i=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.get("/article");case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.get("/article/".concat(r));case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r){return n.apply(this,arguments)}}(),l=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r,e){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.put("/article/".concat(r),e);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r,e){return n.apply(this,arguments)}}(),p=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.delete("/article/".concat(r));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r){return n.apply(this,arguments)}}(),f=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/article",r);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/image-upload",r);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r){return n.apply(this,arguments)}}(),v=function(){return(0,u.useQuery)(["rates"],(function(){return i()}))},h=function(){var n=(0,a.UO)().id;return(0,u.useQuery)(["rate",n],(function(){return s(n)}),{enabled:!!n})},m=function(n){var r=n.onSuccess,e=n.onError,t=(0,a.UO)().id;return(0,u.useMutation)((function(n){return l(t,n)}),{onSuccess:r,onError:e})},Z=function(n){var r=n.onSuccess,e=n.onError,t=(0,a.UO)().id;return(0,u.useMutation)((function(){return p(t)}),{onSuccess:r,onError:e})},x=function(n){var r=n.onSuccess,e=n.onError;return(0,u.useMutation)((function(n){return f(n)}),{onSuccess:r,onError:e})},g=function(n){var r=n.onSuccess,e=n.onError;return(0,u.useMutation)((function(n){return d(n)}),{onSuccess:r,onError:e})},w=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.get("/satisfied");case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.get("/satisfied/".concat(r));case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r){return n.apply(this,arguments)}}(),y=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r,e){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.put("/satisfied/".concat(r),e);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r,e){return n.apply(this,arguments)}}(),k=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.delete("/satisfied/".concat(r));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r){return n.apply(this,arguments)}}(),S=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/satisfied",r);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r){return n.apply(this,arguments)}}(),j=function(){return(0,u.useQuery)(["satisfieds"],(function(){return w()}))},E=function(){var n=(0,a.UO)().id;return(0,u.useQuery)(["satisfied",n],(function(){return b(n)}),{enabled:!!n})},C=function(n){var r=n.onSuccess,e=n.onError,t=(0,a.UO)().id;return(0,u.useMutation)((function(n){return y(t,n)}),{onSuccess:r,onError:e})},N=function(n){var r=n.onSuccess,e=n.onError,t=(0,a.UO)().id;return(0,u.useMutation)((function(){return k(t)}),{onSuccess:r,onError:e})},M=function(n){var r=n.onSuccess,e=n.onError;return(0,u.useMutation)((function(n){return S(n)}),{onSuccess:r,onError:e})},P=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/email/send",r);case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r){return n.apply(this,arguments)}}(),L=function(n){var r=n.onSuccess,e=n.onError;return(0,u.useMutation)((function(n){return P(n)}),{onSuccess:r,onError:e})}},17834:function(n,r,e){e.d(r,{z:function(){return i}});var t=e(74165),o=e(15861),u=e(91933),a=e(29396),c=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.Z.post("/auth/login",null===r||void 0===r?void 0:r.data);case 3:e=n.sent,null===r||void 0===r||r.dispatch({type:"user/login",payload:null===e||void 0===e?void 0:e.data}),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),n.t0.response;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(r){return n.apply(this,arguments)}}(),i=function(n){var r=n.onSuccess,e=n.onError;return(0,u.useMutation)((function(n){return c(n)}),{onSuccess:r,onError:e})}},76442:function(n,r,e){e.r(r);var t=e(29439),o=e(72791),u=e(11095),a=e(66106),c=e(30914),i=e(68678),s=e(87309),l=e(46930),p=e(29396),f=e(51802),d=e(51570),v=e(9085),h=e(199),m=e.n(h),Z=e(72010),x=e(1701),g=e.n(x),w=e(57689),b=e(80184);r.default=function(n){var r=(0,w.s0)(),e=(0,o.useState)(""),h=(0,t.Z)(e,2),x=h[0],y=h[1],k=(0,d.hC)({onSuccess:function(){v.Am.success("Successfully created"),r(-1)},onError:function(n){var r;v.Am.error(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)}}),S=g()(""),j=S.contentBlocks,E=S.entityMap,C=Z.ContentState.createFromBlockArray(j,E),N=(0,o.useState)((function(){return Z.EditorState.createWithContent(C)})),M=(0,t.Z)(N,2),P=M[0],L=M[1];return(0,b.jsx)("div",{children:(0,b.jsxs)(u.Z,{name:"basic",initialValues:{remember:!0},onFinish:function(n){k.mutate({commment:m()((0,Z.convertToRaw)(P.getCurrentContent())).toString(),name:null===n||void 0===n?void 0:n.name,star:Number(null===n||void 0===n?void 0:n.star),icon:x})},onFinishFailed:function(n){console.log("Failed:",n)},autoComplete:"off",layout:"vertical",children:[(0,b.jsxs)(a.Z,{gutter:[20,20],className:"alce",children:[(0,b.jsx)(c.Z,{span:4,children:(0,b.jsx)(l.Z,{onSetImage:function(n){return y(n)},url:"".concat(p.z,"/").concat(x),forEdit:!0,isCreate:!0,imgLoading:!x})}),(0,b.jsx)(c.Z,{span:9,children:(0,b.jsx)(u.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:(0,b.jsx)(i.Z,{})})}),(0,b.jsx)(c.Z,{span:9,children:(0,b.jsx)("div",{children:(0,b.jsx)(u.Z.Item,{label:"Star",name:"star",rules:[{required:!0,message:"Please input your star!"}],children:(0,b.jsx)(i.Z,{type:"number"})})})})]}),(0,b.jsx)(a.Z,{children:(0,b.jsx)(u.Z.Item,{label:"Comment",name:"commment",rules:[{required:!0,message:"Please input your commment!"}],children:(0,b.jsx)(f.Editor,{editorState:P,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(n){L(n)},toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],colorPicker:{popupClassName:"colorModal"},link:{popupClassName:"colorModal"},image:{popupClassName:"colorModal"}}})})}),(0,b.jsx)(u.Z.Item,{children:(0,b.jsx)(s.Z,{type:"primary",htmlType:"submit",loading:null===k||void 0===k?void 0:k.isLoading,children:"Submit"})})]})})}}}]);
//# sourceMappingURL=442.7eca8de2.chunk.js.map