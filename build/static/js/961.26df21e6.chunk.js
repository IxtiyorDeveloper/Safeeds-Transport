"use strict";(self.webpackChunklogistics=self.webpackChunklogistics||[]).push([[961],{29396:function(e,n,r){r.d(n,{z:function(){return c}});var t=r(74165),s=r(1413),o=r(15861),i=r(74569),a=r.n(i),u=r(35625),c="https://safeeds.us/api",l=a().create({baseURL:c});l.interceptors.request.use(function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers.Authorization="Bearer ".concat((0,u.ej)()),n.headers=(0,s.Z)((0,s.Z)({},n.headers),{},{"Content-Type":"application/json"}),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e.response)})),l.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)})),n.Z=l},17834:function(e,n,r){r.d(n,{z:function(){return u}});var t=r(74165),s=r(15861),o=r(91933),i=r(29396),a=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("/auth/login",null===n||void 0===n?void 0:n.data);case 3:r=e.sent,null===n||void 0===n||n.dispatch({type:"user/login",payload:null===r||void 0===r?void 0:r.data}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),u=function(e){var n=e.onSuccess,r=e.onError;return(0,o.useMutation)((function(e){return a(e)}),{onSuccess:n,onError:r})}},85961:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var t=r(72791),s=r(11095),o=r(68678),i=r(87309),a=r(17834),u=r(59434),c=r(57689),l=r(80184);var d=function(e){var n=(0,u.I0)(),r=(0,c.s0)(),d=(0,a.z)({onSuccess:function(){console.log("success"),r("/articles")},onError:function(e){console.log("err",e)}});return(0,t.useEffect)((function(){console.log(d,"sign")}),[d]),(0,l.jsx)("div",{className:"auth",children:(0,l.jsxs)(s.Z,{layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:function(e){d.mutate({data:{email:null===e||void 0===e?void 0:e.email,password:null===e||void 0===e?void 0:e.password},dispatch:n})},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",className:"form",children:[(0,l.jsx)(s.Z.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"The input is not valid E-mail!"}],children:(0,l.jsx)(o.Z,{width:"200"})}),(0,l.jsx)(s.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,l.jsx)(o.Z.Password,{})}),(0,l.jsx)(s.Z.Item,{children:(0,l.jsx)(i.Z,{type:"primary",htmlType:"submit",style:{width:"100%"},loading:null===d||void 0===d?void 0:d.isLoading,children:"Login"})})]})})}}}]);
//# sourceMappingURL=961.26df21e6.chunk.js.map